{"version":3,"sources":["sets/uuid.js","components/pagination.js","all.js","plugins/VeeValidate/VeeValidateLocalize_zh_TW.js"],"names":["uuid","Vue","component","template","props","methods","updatePage","pageNum","console","log","$emit","el","data","apiPath","token","user","email","password","products","tempProduct","imageUrl","pagination","isNew","loadingBtn","signin","api","axios","post","then","response","expired","document","cookie","Date","jsonParseSigninMessage","JSON","parse","request","responseText","message","alert","confirmDashboardIndex","confirm","window","open","error","jsonParseResponseStr","signout","getData","catchPageNum","replace","defaults","headers","common","Authorization","get","Object","assign","meta","id","$","modal","created","VeeValidateLocalize_zh_TW"],"mappings":"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","file":"all.js","sourcesContent":["const uuid = 'a70f537b-d0f1-4553-81bb-1767acf549d1'; // 請加入個人的 UUID","Vue.component('pagination', {\n  template: `<ul class=\"pagination justify-content-end\">\n      <li class=\"page-item\" \n        :class=\"{ disabled: pages.current_page === 1 }\"\n      >\n        <a class=\"page-link\" href=\"#\" \n          @click.prevent=\"updatePage(1)\" \n          :disabled=\"{ true: pages.current_page === 1 }\"\n        >最前頁</a>\n      </li>\n      <li class=\"page-item\" \n        v-for=\"i in pages.total_pages\" \n        :key=\"i\"\n        :class=\"{ active: pages.current_page === i }\"\n      >\n        <a class=\"page-link\" href=\"#\" \n          @click.prevent=\"updatePage(i)\"\n        >{{ i }}</a>\n      </li>\n      <li class=\"page-item\"\n        :class=\"{ disabled: pages.current_page === pages.total_pages }\"\n      >\n        <a class=\"page-link\" href=\"#\" \n          @click.prevent=\"updatePage(pages.total_pages)\"\n          :disabled=\"{ true: pages.current_page === pages.total_pages }\"\n        >最後頁</a>\n      </li>\n    </ul>\n  `,\n  props: ['pages'],\n  methods: {\n    updatePage( pageNum ) {\n      console.log('pagination component -> pageNum', pageNum);\n      this.$emit('update-page-num', pageNum)\n    }\n  }\n});","\n// UUID\n// const uuid = ''; // 請加入個人的 UUID\n\nnew Vue({\n  el: '#app',\n  data: {\n    uuid: '',\n    apiPath: 'https://course-ec-api.hexschool.io/api/',\n    token: '',\n    user: {\n      email: '',\n      password: '',\n    },\n    products: [\n      // {\n      //   id: 1586934917210,\n      //   unit: '台',\n      //   category: '掌上主機',\n      //   title: 'Switch',\n      //   origin_price: 20000,\n      //   price: 9980,\n      //   description: '想玩就玩',\n      //   content: '動森太好玩惹',\n      //   enabled: 1,\n      //   imageUrl: 'https://images.unsplash.com/photo-1592107761705-30a1bbc641e7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80',\n      // },\n    ],\n    tempProduct: { imageUrl: [] },\n    pagination: {},\n    isNew: false,\n    loadingBtn: '',\n  },\n  methods: {\n    signin() {\n      const api = `${this.apiPath}auth/login`;\n      axios.post(api, this.user)\n        .then((response) => {\n          const token = response.data.token;\n          const expired = response.data.expired;\n          document.cookie = `token=${token}; expires=${new Date(expired * 1000)}; path=/`;\n          console.log('signin() -> .then() response', response);\n          const jsonParseSigninMessage = JSON.parse(response.request.responseText).message;\n          alert(jsonParseSigninMessage);\n          if ( jsonParseSigninMessage == \"登入成功\" ) {\n            var confirmDashboardIndex = confirm('登入成功，是否前往後台首頁產品列頁');\n            if (confirmDashboardIndex) {\n              // window.location = \"product.html\";  // 直接導到指定頁面\n              window.open('product.html', '後台首頁產品列頁'); // 已新分頁開啟頁面\n            } else {\n              return ''\n            }\n            this.user.password = ''; // 確任項目點按後清空密碼輸入框\n          }\n        })\n        .catch((error) => {\n          // console.dir(error);\n          let jsonParseResponseStr = JSON.parse(error.response.request.response)\n          console.log(jsonParseResponseStr.message);\n          alert(jsonParseResponseStr.message);\n        }\n      );\n    },\n    signout() {\n      // 請加入 Token\n      document.cookie = `token=; expires=; path=/`;\n      const token = '';\n      console.log('signout() -> 完成登出與清除 token 為空字串');\n      alert('完成登出');\n    },\n    getData( catchPageNum=1 ) {\n      // 取得 token 的 cookies（注意取得的時間點）\n      // 詳情請見：https://developer.mozilla.org/zh-CN/docs/Web/API/Document/cookie\n      this.token = document.cookie.replace(/(?:(?:^|.*;\\s*)token\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\n      \n      if (this.token == '') {\n        console.log('取得資料 getData() 無法執行，token 為空字串');\n      } else {\n        console.log('getData -> catchPageNum', catchPageNum);\n        // API Path\n        const api = `${this.apiPath}${this.uuid}/admin/ec/products?page=${ catchPageNum }`;\n        // console.log('getData() -> api', api);\n\n        // 將 Token 加入到 Headers 內\n        axios.defaults.headers.common.Authorization = `Bearer ${this.token}`;\n        // console.log('getData() ->  this.token', this.token);\n  \n        // Ajax\n        axios.get(api)\n          .then((response) => {\n            console.log('axios.get(api) response', response);\n            this.products = Object.assign({}, response.data.data);\n            // console.log('this.products', this.products);\n            this.pagination = Object.assign({}, response.data.meta.pagination);\n            if (this.tempProduct.id) {\n              this.tempProduct = { imageUrl: [] };\n              $('#productModal').modal('hide');\n            }\n          })\n      }\n    },\n    \n  },\n  created() {\n    // 透過全域設定 uuid\n    this.uuid = uuid;\n\n    /*----------  預設執行直接向 cookie 取得 token  ----------*/\n    this.token = document.cookie.replace(/(?:(?:^|.*;\\s*)token\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\n    // 將 Token 加入到 Headers 內 - 二種寫法二選一\n    // axios.defaults.headers.common['Authorization'] = `Bearer ${this.token}`;\n    axios.defaults.headers.common.Authorization = `Bearer ${this.token}`;\n    /*----------  /預設執行直接向 cookie 取得 token  ----------*/\n\n    this.getData();\n  }\n});\n","let VeeValidateLocalize_zh_TW = {\n  \"code\": \"zh_TW\",\n  \"messages\": {\n    \"alpha\": \"{_field_} 須以英文組成\",\n    \"alpha_dash\": \"{_field_} 須以英數、斜線及底線組成\",\n    \"alpha_num\": \"{_field_} 須以英數組成\",\n    \"alpha_spaces\": \"{_field_} 須以英文及空格組成\",\n    \"between\": \"{_field_} 須介於 {min} 至 {max}之間\",\n    \"confirmed\": \" {_field_} 不一致\",\n    \"digits\": \"{_field_} 須為 {length} 位數字\",\n    \"dimensions\": \"{_field_} 圖片尺寸不正確。須為 {width} x {height} 像素\",\n    \"email\": \"{_field_} 須為有效的電子信箱\",\n    \"excluded\": \"{_field_} 的選項無效\",\n    \"ext\": \"{_field_} 須為有效的檔案\",\n    \"image\": \"{_field_} 須為圖片\",\n    \"oneOf\": \"{_field_} 的選項無效\",\n    \"integer\": \"{_field_} 須為整數\",\n    \"length\": \"{_field_} 的長度須為 {length}\",\n    \"max\": \"{_field_} 不能大於 {length} 個字元\",\n    \"max_value\": \"{_field_} 不得大於 {max}\",\n    \"mimes\": \"{_field_} 須為有效的檔案類型\",\n    \"min\": \"{_field_} 不能小於 {length} 個字元\",\n    \"min_value\": \"{_field_} 不得小於 {min}\",\n    \"numeric\": \"{_field_} 須為數字\",\n    \"regex\": \"{_field_} 的格式錯誤\",\n    \"required\": \"{_field_} 為必填\",\n    \"required_if\": \"{_field_} 為必填\",\n    \"size\": \"{_field_} 的檔案須小於 {size}KB\"\n  }\n};"]}