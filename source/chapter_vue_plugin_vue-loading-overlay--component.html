<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vue plugins | vue-loading-overlay--component</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="assets/css/all.css">
  <!-- vue-loading-overlay CDN -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/vue-loading-overlay@3.3.2/dist/vue-loading.min.js"></script> -->
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vue-loading-overlay@3.3.2/dist/vue-loading.css"> -->
  <!-- /vue-loading-overlay CDN -->
</head>
<body>
<div class="container" id="app">
  <loading :active.sync="isLoading"></loading>
  <h1>Vue plugins</h1>
  <h2>vue-loading-overlay--component</h2>
  <button type="button" class="btn btn-primary"
  @click="VueLoadingClick">VueLoadingClick</button>
</div>
  <script src="assets/js/vendors.js"></script>
  <script>
    /*----------  vue-loading-overlay 插件以元件引入  ----------*/
    console.log('VueLoading', VueLoading);  // 確任 vue-loading-overlay 是否正確戴入
    Vue.component('loading', VueLoading);  // 戴入的 vue-loading-overlay 宣告成全域 component 
    /*----------  /vue-loading-overlay 插件以元件引入  ----------*/
/*----------  Vue 實體  ----------*/
new Vue({
  el: '#app',
  data: {
    isLoading: false,
    // isLoading: true,
  },
  methods: {
    VueLoadingClick() {
      this.isLoading = true;
      /*----------  使用 setTimeout() 仿 AJAX  ----------*/
      // setTimeout(() => {
      //   this.isLoading = false;
      // }, 3000);
      /*----------  /使用 setTimeout() 仿 AJAX  ----------*/
      /*----------  axios AJAX 的讀取效果  ----------*/
      axios.get('https://course-ec-api.hexschool.io/api/a70f537b-d0f1-4553-81bb-1767acf549d1/ec/products')
        .then((res)=>{
          console.log('res', res);
          this.isLoading = false;  // loading 效果在 AJAX 取得完成停止。
        })
      /*----------  /axios AJAX 的讀取效果  ----------*/
    },
  },
  mounted() {
    // this.VueLoadingClick();
  },
});
/*----------  Vue 實體  ----------*/
  </script>
</body>
</html>